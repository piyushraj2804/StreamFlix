/* ══════════════════════════════════════════════
   StreamFlix v2 — style.css
   Dark/Light theme, skeletons, player, auth, routing
   ══════════════════════════════════════════════ */

/* ─── CSS VARIABLES (DARK THEME) ─── */
:root {
  --red:          #E50914;
  --red-dark:     #b20710;
  --red-glow:     rgba(229,9,20,0.3);
  --black:        #000;
  --dark:         #141414;
  --dark-2:       #1a1a1a;
  --dark-3:       #222;
  --card-bg:      #181818;
  --surface:      #242424;
  --white:        #fff;
  --text:         #e5e5e5;
  --text-dim:     #aaa;
  --muted:        #777;
  --border:       rgba(255,255,255,0.1);
  --green:        #46d369;
  --nav-h:        68px;
  --radius-sm:    4px;
  --radius-md:    8px;
  --radius-lg:    12px;
  --ease:         cubic-bezier(0.25,0.46,0.45,0.94);
  --shadow:       0 8px 32px rgba(0,0,0,0.5);
}

/* ─── LIGHT THEME ─── */
[data-theme="light"] {
  --black:        #fff;
  --dark:         #f4f4f4;
  --dark-2:       #e8e8e8;
  --dark-3:       #ddd;
  --card-bg:      #fff;
  --surface:      #f0f0f0;
  --white:        #111;
  --text:         #222;
  --text-dim:     #555;
  --muted:        #888;
  --border:       rgba(0,0,0,0.1);
  --shadow:       0 8px 32px rgba(0,0,0,0.12);
}
[data-theme="light"] #navbar { background: rgba(255,255,255,0.97) !important; box-shadow: 0 2px 20px rgba(0,0,0,0.08); }
[data-theme="light"] .hero-vignette { background: linear-gradient(to right,rgba(244,244,244,0.85) 0%,transparent 60%), linear-gradient(to top,#f4f4f4 0%,rgba(244,244,244,0.4) 40%,transparent 80%); }
[data-theme="light"] .card-overlay { background: linear-gradient(to top, rgba(255,255,255,0.97) 0%, transparent 70%); }
[data-theme="light"] .card-title { color: #111; }
[data-theme="light"] .modal { background: #fff; }
[data-theme="light"] .modal-hero-overlay { background: linear-gradient(to top, #fff 0%, transparent 60%); }
[data-theme="light"] .player-wrap { background: #111; }
[data-theme="light"] footer { background: #f4f4f4; border-top-color: rgba(0,0,0,0.08); }
[data-theme="light"] .auth-card { background: rgba(255,255,255,0.95); }
[data-theme="light"] .form-input { background: #f0f0f0; border-color: #ddd; color: #111; }
[data-theme="light"] .sk { background: linear-gradient(90deg,#e0e0e0 25%,#f0f0f0 50%,#e0e0e0 75%); }

/* ─── RESET ─── */
*,*::before,*::after { box-sizing:border-box; margin:0; padding:0; }
html { scroll-behavior:smooth; }
body { background:var(--dark); color:var(--text); font-family:'DM Sans',sans-serif; overflow-x:hidden; line-height:1.5; transition:background 0.3s,color 0.3s; }
a { text-decoration:none; color:inherit; }
button { cursor:pointer; font-family:inherit; }
img { display:block; }
ul { list-style:none; }
::-webkit-scrollbar { width:5px; height:5px; }
::-webkit-scrollbar-track { background:transparent; }
::-webkit-scrollbar-thumb { background:#3a3a3a; border-radius:10px; }
.hidden { display:none !important; }

/* ══════════════════════════════════════════════
   SKELETON LOADERS
══════════════════════════════════════════════ */
@keyframes shimmer {
  0%   { background-position: -600px 0; }
  100% { background-position:  600px 0; }
}

.sk {
  background: linear-gradient(90deg, #2a2a2a 25%, #333 50%, #2a2a2a 75%);
  background-size: 600px 100%;
  animation: shimmer 1.5s infinite;
  border-radius: var(--radius-sm);
}

.sk-badge  { width:160px; height:26px; border-radius:20px; margin-bottom:18px; }
.sk-title  { width:420px; max-width:90%; height:56px; margin-bottom:12px; border-radius:4px; }
.sk-title-sm { width:260px; height:46px; }
.sk-meta   { width:280px; height:18px; margin-bottom:18px; }
.sk-desc   { width:480px; max-width:95%; height:16px; margin-bottom:8px; }
.sk-desc-sm { width:360px; }
.sk-actions { width:240px; height:48px; margin-top:10px; border-radius:4px; }
.sk-banner { width:100%; height:100%; }

.sk-row {
  display:flex;
  gap:8px;
  padding:0 4%;
  overflow:hidden;
  width:100%;
}
.sk-row::before,.sk-row::after,
.sk-row > * { display:none; }
.sk-row { position:relative; height:270px; }
.sk-row::after {
  content:'';
  position:absolute;
  inset:0;
  background: linear-gradient(90deg, #222 25%, #2d2d2d 50%, #222 75%);
  background-size:600px 100%;
  animation:shimmer 1.5s infinite;
  border-radius:var(--radius-md);
}

/* ══════════════════════════════════════════════
   NAVBAR
══════════════════════════════════════════════ */
#navbar {
  position:fixed; top:0; left:0; right:0; z-index:900;
  height:var(--nav-h);
  display:flex; align-items:center; justify-content:space-between;
  padding:0 4%;
  background:linear-gradient(to bottom,rgba(0,0,0,0.85) 0%,transparent 100%);
  transition:background 0.4s, box-shadow 0.4s;
}
#navbar.scrolled { background:rgba(0,0,0,0.97); box-shadow:0 2px 20px rgba(0,0,0,0.5); }

.nav-left { display:flex; align-items:center; gap:36px; }

.logo {
  font-family:'Bebas Neue',sans-serif;
  font-size:1.9rem; color:var(--red);
  letter-spacing:3px; line-height:1;
  text-shadow:0 0 30px var(--red-glow);
  transition:text-shadow 0.3s;
}
.logo:hover { text-shadow:0 0 50px rgba(229,9,20,0.6); }

.nav-links { display:flex; align-items:center; gap:20px; }
.nav-link { font-size:0.82rem; font-weight:500; color:var(--text-dim); transition:color 0.2s; white-space:nowrap; }
.nav-link:hover,.nav-link.active { color:var(--white); }
.nav-link.active { font-weight:700; }

.nav-right { display:flex; align-items:center; gap:16px; }

/* Search */
.nav-search { position:relative; display:flex; align-items:center; }
.nav-search input {
  width:0; padding:7px 0;
  background:transparent; border:none; border-bottom:1px solid transparent;
  color:var(--white); font-size:0.82rem; font-family:inherit;
  outline:none; transition:width 0.35s ease,border-color 0.3s,padding 0.3s;
}
.nav-search.open input { width:200px; padding:7px 34px 7px 12px; border-bottom-color:rgba(255,255,255,0.4); background:rgba(0,0,0,0.5); border-radius:var(--radius-sm); }
.search-icon { position:absolute; right:8px; cursor:pointer; opacity:0.7; transition:opacity 0.2s; color:var(--white); }
.search-icon:hover { opacity:1; }

/* Theme toggle */
.theme-toggle {
  background:none; border:none; font-size:1.1rem;
  cursor:pointer; opacity:0.8; transition:opacity 0.2s,transform 0.3s;
  line-height:1;
}
.theme-toggle:hover { opacity:1; transform:rotate(20deg); }

/* Notif */
.notif-btn { position:relative; color:var(--white); cursor:pointer; opacity:0.85; transition:opacity 0.2s; display:flex; }
.notif-btn:hover { opacity:1; }
.notif-dot { position:absolute; top:-2px; right:-3px; width:7px; height:7px; border-radius:50%; background:var(--red); border:1.5px solid var(--dark); }

/* Avatar & dropdown */
.avatar-wrap { position:relative; }
.avatar {
  width:34px; height:34px; border-radius:6px;
  background:linear-gradient(135deg,var(--red),#ff6b35);
  display:flex; align-items:center; justify-content:center;
  font-weight:700; font-size:0.88rem; color:#fff;
  cursor:pointer; transition:transform 0.2s,box-shadow 0.2s;
}
.avatar:hover { transform:scale(1.08); box-shadow:0 0 16px var(--red-glow); }

.profile-dropdown {
  position:absolute; top:calc(100% + 12px); right:0;
  background:var(--dark-2); border:1px solid var(--border);
  border-radius:var(--radius-md); width:220px;
  box-shadow:var(--shadow); padding:8px 0;
  opacity:0; pointer-events:none; transform:translateY(-8px);
  transition:opacity 0.25s,transform 0.25s;
  z-index:200;
}
.avatar-wrap:hover .profile-dropdown { opacity:1; pointer-events:all; transform:translateY(0); }
.profile-info { display:flex; align-items:center; gap:10px; padding:12px 16px; }
.pd-avatar { width:36px; height:36px; border-radius:6px; background:linear-gradient(135deg,var(--red),#ff6b35); display:flex; align-items:center; justify-content:center; font-weight:700; color:#fff; flex-shrink:0; }
.pd-name { font-weight:700; font-size:0.88rem; color:var(--white); }
.pd-email { font-size:0.74rem; color:var(--muted); }
.pd-divider { height:1px; background:var(--border); margin:4px 0; }
.pd-item { display:block; padding:10px 16px; font-size:0.84rem; color:var(--text); transition:background 0.15s; }
.pd-item:hover { background:rgba(255,255,255,0.06); }
.pd-signout { color:#ff4d4d; }

/* Hamburger */
.hamburger { display:none; flex-direction:column; gap:5px; background:none; border:none; padding:4px; z-index:10; }
.hamburger span { display:block; width:24px; height:2px; background:var(--white); border-radius:2px; transition:transform 0.3s,opacity 0.3s; }
.hamburger.open span:nth-child(1) { transform:translateY(7px) rotate(45deg); }
.hamburger.open span:nth-child(2) { opacity:0; }
.hamburger.open span:nth-child(3) { transform:translateY(-7px) rotate(-45deg); }

.mobile-drawer {
  position:fixed; top:var(--nav-h); left:0; right:0;
  background:rgba(0,0,0,0.97); z-index:800;
  transform:translateY(-110%); transition:transform 0.35s ease;
  padding:20px 6% 30px; border-bottom:1px solid var(--border);
}
.mobile-drawer.open { transform:translateY(0); }
.mobile-drawer a { display:block; padding:14px 0; font-size:1rem; font-weight:500; color:var(--text); border-bottom:1px solid var(--border); transition:color 0.2s,padding-left 0.2s; }
.mobile-drawer a:hover { color:var(--white); padding-left:8px; }

/* ══════════════════════════════════════════════
   HERO
══════════════════════════════════════════════ */
.hero {
  position:relative; height:92vh; min-height:600px;
  display:flex; align-items:flex-end; padding:0 4% 10%; overflow:hidden;
}
.hero-bg {
  position:absolute; inset:0;
  background-size:cover; background-position:center top;
  transform:scale(1.05); transition:transform 12s ease; will-change:transform;
}
.hero-bg.zoomed { transform:scale(1); }
.hero-vignette {
  position:absolute; inset:0; z-index:1;
  background:linear-gradient(to right,rgba(0,0,0,0.82) 0%,transparent 65%),
             linear-gradient(to top,rgba(20,20,20,1) 0%,rgba(20,20,20,0.5) 35%,transparent 75%);
  transition:background 0.3s;
}
.hero-content { position:relative; z-index:2; max-width:580px; }
.hero-skeleton { display:flex; flex-direction:column; }

.hero-badge {
  display:inline-flex; align-items:center; gap:8px;
  background:rgba(229,9,20,0.12); border:1px solid rgba(229,9,20,0.35);
  color:#ff5555; font-size:0.72rem; font-weight:700; letter-spacing:1.5px;
  text-transform:uppercase; padding:5px 14px; border-radius:20px; margin-bottom:18px;
}
.live-dot { width:6px; height:6px; border-radius:50%; background:var(--red); animation:pulse 1.6s infinite; }
@keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:0.4;transform:scale(0.8)} }

.hero-title {
  font-family:'Bebas Neue',sans-serif;
  font-size:clamp(3.2rem,9vw,6rem); line-height:0.92;
  color:var(--white); margin-bottom:18px;
  text-shadow:2px 4px 30px rgba(0,0,0,0.7); letter-spacing:1px;
}
.hero-meta { display:flex; align-items:center; flex-wrap:wrap; gap:8px; margin-bottom:18px; font-size:0.85rem; }
.hero-meta .match { color:var(--green); font-weight:700; }
.hero-meta .bullet { color:var(--muted); font-size:0.5rem; }
.rating-badge { border:1px solid rgba(255,255,255,0.4); padding:2px 8px; border-radius:3px; font-size:0.75rem; }
.hero-desc { font-size:0.95rem; line-height:1.7; color:rgba(229,229,229,0.9); margin-bottom:28px; max-width:480px; }
.hero-actions { display:flex; gap:12px; flex-wrap:wrap; }
.hero-maturity {
  position:absolute; right:0; bottom:18%; z-index:2;
  background:rgba(50,50,50,0.8); border-left:3px solid var(--white);
  color:var(--white); padding:6px 16px; font-size:0.8rem; font-weight:600; letter-spacing:1px;
}

/* ─── BUTTONS ─── */
.btn { display:inline-flex; align-items:center; gap:10px; border:none; border-radius:var(--radius-sm); font-size:1rem; font-weight:700; padding:12px 30px; transition:background 0.2s,transform 0.15s,box-shadow 0.2s; white-space:nowrap; }
.btn-play { background:var(--white); color:var(--black); }
.btn-play:hover { background:rgba(255,255,255,0.82); transform:scale(1.03); }
.btn-info { background:rgba(109,109,110,0.7); color:var(--white); backdrop-filter:blur(4px); }
.btn-info:hover { background:rgba(109,109,110,0.5); transform:scale(1.03); }

/* ══════════════════════════════════════════════
   GENRE TABS
══════════════════════════════════════════════ */
.genre-tabs-wrap { padding:22px 4% 0; }
.genre-tabs { display:flex; gap:8px; overflow-x:auto; scrollbar-width:none; padding-bottom:4px; }
.genre-tabs::-webkit-scrollbar { display:none; }
.genre-tab { flex-shrink:0; padding:7px 20px; border-radius:20px; border:1px solid rgba(255,255,255,0.2); background:transparent; color:var(--text); font-size:0.82rem; font-weight:500; transition:all 0.2s; }
.genre-tab:hover { border-color:rgba(255,255,255,0.6); color:var(--white); }
.genre-tab.active { background:var(--white); color:var(--black); border-color:var(--white); font-weight:700; }

/* ══════════════════════════════════════════════
   PAGE VIEWS & ROUTING
══════════════════════════════════════════════ */
.page-view { animation:fadeIn 0.35s ease; }
@keyframes fadeIn { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }

.page-hero-banner {
  margin:100px 4% 32px;
  border-radius:var(--radius-lg); padding:40px 44px;
  animation:fadeIn 0.4s ease;
}
.page-hero-banner h2 { font-family:'Bebas Neue',sans-serif; font-size:2.5rem; color:#fff; margin-bottom:6px; letter-spacing:1px; }
.page-hero-banner p { color:rgba(255,255,255,0.65); font-size:0.92rem; }

/* ══════════════════════════════════════════════
   ROW SECTIONS
══════════════════════════════════════════════ */
.row-section { padding:36px 0 8px; opacity:0; transform:translateY(24px); transition:opacity 0.55s ease,transform 0.55s ease; }
.row-section.visible { opacity:1; transform:translateY(0); }

.section-header { display:flex; align-items:baseline; justify-content:space-between; padding:0 4%; margin-bottom:14px; }
.section-title { font-size:1.18rem; font-weight:700; color:var(--white); display:flex; align-items:center; gap:10px; }
.title-tag { font-size:0.75rem; font-weight:600; color:var(--green); letter-spacing:0.3px; }
.see-all { font-size:0.75rem; font-weight:700; color:var(--green); cursor:pointer; opacity:0; transition:opacity 0.25s; text-transform:uppercase; letter-spacing:0.5px; }
.row-section:hover .see-all { opacity:1; }

.row-wrap { position:relative; }
.row { display:flex; gap:6px; padding:10px 4%; overflow-x:auto; overflow-y:visible; scroll-behavior:smooth; scrollbar-width:none; }
.row::-webkit-scrollbar { display:none; }

.row-btn {
  position:absolute; top:0; bottom:0; width:50px;
  background:rgba(0,0,0,0.65); border:none; color:var(--white);
  font-size:1.8rem; display:flex; align-items:center; justify-content:center;
  z-index:50; opacity:0; transition:opacity 0.2s,background 0.2s; backdrop-filter:blur(2px);
}
.row-wrap:hover .row-btn { opacity:1; }
.row-btn:hover { background:rgba(0,0,0,0.9); }
.row-btn-left  { left:0; border-radius:0 var(--radius-sm) var(--radius-sm) 0; }
.row-btn-right { right:0; border-radius:var(--radius-sm) 0 0 var(--radius-sm); }

/* Search grid */
.search-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(175px,1fr)); gap:12px; padding:0 4%; width:100%; }

/* Empty state */
.empty-state { text-align:center; padding:80px 20px; color:var(--muted); }
.empty-icon { font-size:3.5rem; margin-bottom:16px; }
.empty-state h3 { font-size:1.3rem; color:var(--text); margin-bottom:8px; }
.empty-state p { font-size:0.88rem; margin-bottom:24px; }

/* ══════════════════════════════════════════════
   CARDS
══════════════════════════════════════════════ */
.card {
  flex-shrink:0; width:175px; height:262px;
  border-radius:var(--radius-md); overflow:visible;
  position:relative; cursor:pointer;
  transition:transform 0.35s var(--ease),z-index 0s 0.35s;
}
.card:hover { transform:scale(1.24) translateY(-10px); z-index:200; transition:transform 0.35s var(--ease),z-index 0s; }
.card-inner { width:100%; height:100%; border-radius:var(--radius-md); overflow:hidden; position:relative; box-shadow:0 4px 20px rgba(0,0,0,0.5); }
.card-img { width:100%; height:100%; object-fit:contain;
background:#000; transition:transform 0.35s ease; }
.card:hover .card-img { transform:scale(1.06); }
.card-overlay {
  position:absolute; inset:0;
  background:linear-gradient(to top,rgba(0,0,0,0.97) 0%,rgba(0,0,0,0.45) 45%,transparent 70%);
  opacity:0; transition:opacity 0.3s ease;
  display:flex; flex-direction:column; justify-content:flex-end;
  padding:12px 10px 10px;
}
.card:hover .card-overlay { opacity:1; }
.card-actions { display:flex; gap:5px; margin-bottom:8px; align-items:center; }
.card-btn {
  width:28px; height:28px; border-radius:50%;
  border:2px solid rgba(255,255,255,0.6); background:rgba(30,30,30,0.8);
  color:var(--white); display:flex; align-items:center; justify-content:center;
  font-size:0.68rem; transition:border-color 0.15s,background 0.15s,transform 0.15s;
  backdrop-filter:blur(4px); flex-shrink:0;
}
.card-btn:hover { border-color:var(--white); transform:scale(1.12); }
.card-btn.play { background:var(--white); color:var(--black); border-color:var(--white); font-size:0.75rem; }
.card-btn.play:hover { background:rgba(255,255,255,0.85); }
.card-btn.in-list { border-color:var(--green); background:rgba(70,211,105,0.15); }
.card-title { font-size:0.76rem; font-weight:700; color:var(--white); margin-bottom:4px; line-height:1.25; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.card-info { display:flex; align-items:center; gap:6px; font-size:0.66rem; }
.card-match { color:var(--green); font-weight:700; }
.card-year { color:var(--muted); }
.card-genres { font-size:0.62rem; color:#666; margin-top:3px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* Wide (continue watching) */
.card.wide { width:255px; height:144px; }
.card.wide .card-img {
  object-fit: cover;
  object-position: center;
}
.card.wide .card-overlay { background:linear-gradient(to top,rgba(0,0,0,0.92) 0%,transparent 80%); }

.progress-bar { position:absolute; bottom:0; left:0; right:0; height:3px; background:rgba(255,255,255,0.15); z-index:5; }
.progress-fill { height:100%; background:var(--red); border-radius:0 2px 2px 0; box-shadow:0 0 6px var(--red-glow); }

/* Top 10 */
.card.top10 { width:220px; }
.card-rank {
  position: absolute;
  bottom: -18px;
  left: -6px;

  font-family: 'Bebas Neue', sans-serif;
  font-size: 8.5rem;
  line-height: 1;

  color: rgba(255,255,255,0.9);
  -webkit-text-stroke: 2px rgba(0,0,0,0.6);

  text-shadow:
    0 0 20px rgba(0,0,0,0.6),
    0 0 40px rgba(0,0,0,0.4);

  z-index: 10;
  pointer-events: none;
  user-select: none;
}

/* ══════════════════════════════════════════════
   FEATURED BANNER
══════════════════════════════════════════════ */
.featured-banner {
  margin:36px 4%; border-radius:var(--radius-lg);
  overflow:hidden; position:relative; height:250px; cursor:pointer;
  box-shadow:var(--shadow); transition:box-shadow 0.3s;
}
.featured-banner:hover { box-shadow:0 12px 60px rgba(0,0,0,0.7); }
.featured-banner img { width:100%; height:100%; object-fit:cover; transition:transform 0.5s ease; }
.featured-banner:hover img { transform:scale(1.04); }
.featured-overlay {
  position:absolute; inset:0;
  background:linear-gradient(90deg,rgba(0,0,0,0.9) 0%,rgba(0,0,0,0.3) 60%,transparent 100%);
  display:flex; align-items:center; padding:0 48px;
}
.fb-tag { font-size:0.72rem; font-weight:700; letter-spacing:2px; color:var(--red); text-transform:uppercase; margin-bottom:8px; }
.fb-title { font-family:'Bebas Neue',sans-serif; font-size:2.8rem; color:#fff; line-height:1; margin-bottom:10px; letter-spacing:1px; }
.fb-desc { font-size:0.83rem; color:var(--text); max-width:360px; line-height:1.55; margin-bottom:18px; }
.fb-btn { font-size:0.88rem; padding:10px 24px; background:var(--red); color:#fff; }
.fb-btn:hover { background:var(--red-dark); }

/* ══════════════════════════════════════════════
   VIDEO PLAYER
══════════════════════════════════════════════ */
.player-backdrop {
  position:fixed; inset:0; background:rgba(0,0,0,0.94);
  z-index:1500; display:flex; align-items:center; justify-content:center;
  padding:20px; opacity:0; pointer-events:none; transition:opacity 0.3s;
}
.player-backdrop.open { opacity:1; pointer-events:all; }

.player-wrap {
  background:#0a0a0a; border-radius:var(--radius-lg);
  width:min(900px,96vw); overflow:hidden;
  transform:scale(0.9); transition:transform 0.35s var(--ease);
  box-shadow:0 20px 80px rgba(0,0,0,0.9);
}
.player-backdrop.open .player-wrap { transform:scale(1); }

.player-header {
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 20px; background:rgba(255,255,255,0.04);
  border-bottom:1px solid rgba(255,255,255,0.06);
}
.player-title { font-weight:700; color:#fff; font-size:0.92rem; }
.player-close { background:none; border:none; color:#aaa; font-size:1.1rem; transition:color 0.2s; }
.player-close:hover { color:#fff; }

.player-screen {
  position:relative; width:100%; padding-top:56.25%; background:#000;
}
.player-screen iframe { position:absolute; inset:0; width:100%; height:100%; border:none; }
.player-loading {
  position:absolute; inset:0; display:flex; flex-direction:column;
  align-items:center; justify-content:center; gap:16px; color:#888; font-size:0.9rem;
}
.spinner {
  width:40px; height:40px; border-radius:50%;
  border:3px solid rgba(255,255,255,0.1); border-top-color:var(--red);
  animation:spin 0.8s linear infinite;
}
@keyframes spin { to{transform:rotate(360deg)} }

.player-controls { padding:14px 20px; background:#0a0a0a; }
.player-bar-wrap { display:flex; align-items:center; gap:12px; margin-bottom:12px; }
.player-time,.player-duration { font-size:0.78rem; color:#aaa; white-space:nowrap; }

.player-progress {
  flex:1; height:4px; background:rgba(255,255,255,0.15); border-radius:4px;
  position:relative; cursor:pointer; transition:height 0.15s;
}
.player-progress:hover { height:6px; }
.player-buffered { position:absolute; inset:0; background:rgba(255,255,255,0.15); border-radius:4px; width:60%; }
.player-played { position:absolute; left:0; top:0; bottom:0; background:var(--red); border-radius:4px; width:0; }
.player-thumb {
  position:absolute; top:50%; right:0; width:12px; height:12px;
  background:#fff; border-radius:50%; transform:translate(50%,-50%);
  opacity:0; transition:opacity 0.2s;
}
.player-progress:hover .player-thumb { opacity:1; }

.player-btns { display:flex; align-items:center; gap:8px; }
.pl-btn {
  background:none; border:none; color:#ccc; padding:6px;
  display:flex; align-items:center; justify-content:center;
  border-radius:4px; transition:color 0.2s,background 0.2s;
}
.pl-btn:hover { color:#fff; background:rgba(255,255,255,0.08); }
.pl-quality { font-size:0.72rem; font-weight:700; border:1px solid rgba(255,255,255,0.3); border-radius:3px; padding:3px 6px; }

.vol-wrap { display:flex; align-items:center; gap:6px; }
.vol-slider { -webkit-appearance:none; width:80px; height:3px; background:rgba(255,255,255,0.2); border-radius:4px; outline:none; cursor:pointer; }
.vol-slider::-webkit-slider-thumb { -webkit-appearance:none; width:12px; height:12px; border-radius:50%; background:#fff; cursor:pointer; }

.player-right-btns { margin-left:auto; display:flex; align-items:center; gap:4px; }

/* ══════════════════════════════════════════════
   DETAIL MODAL
══════════════════════════════════════════════ */
.modal-backdrop {
  position:fixed; inset:0; background:rgba(0,0,0,0.8);
  z-index:1000; display:flex; align-items:center; justify-content:center;
  padding:20px; opacity:0; pointer-events:none; transition:opacity 0.3s; backdrop-filter:blur(5px);
}
.modal-backdrop.open { opacity:1; pointer-events:all; }
.modal {
  background:#181818; border-radius:var(--radius-lg);
  width:min(860px,100%); max-height:90vh; overflow-y:auto;
  transform:scale(0.88) translateY(20px); transition:transform 0.35s cubic-bezier(0.34,1.56,0.64,1);
  scrollbar-width:thin; scrollbar-color:#333 transparent;
}
.modal-backdrop.open .modal { transform:scale(1) translateY(0); }
.modal-hero { position:relative; height:370px; overflow:hidden; border-radius:var(--radius-lg) var(--radius-lg) 0 0; }
.modal-hero img { width:100%; height:100%; object-fit:cover; }
.modal-hero-overlay { position:absolute; inset:0; background:linear-gradient(to top,#181818 0%,rgba(24,24,24,0.1) 55%,transparent 100%); }
.modal-close {
  position:absolute; top:16px; right:16px; width:36px; height:36px; border-radius:50%;
  background:rgba(20,20,20,0.85); border:1.5px solid rgba(255,255,255,0.15);
  color:#fff; font-size:1rem; display:flex; align-items:center; justify-content:center;
  z-index:10; transition:background 0.2s,transform 0.2s;
}
.modal-close:hover { background:rgba(60,60,60,0.9); transform:rotate(90deg); }
.modal-hero-actions { position:absolute; bottom:20px; left:32px; display:flex; align-items:center; gap:10px; z-index:5; }
.modal-play-btn { font-size:0.9rem; padding:10px 24px; }
.modal-icon-btn {
  width:40px; height:40px; border-radius:50%;
  background:rgba(30,30,30,0.7); border:2px solid rgba(255,255,255,0.5);
  color:#fff; display:flex; align-items:center; justify-content:center;
  transition:border-color 0.2s,background 0.2s,transform 0.15s; backdrop-filter:blur(4px);
}
.modal-icon-btn:hover { border-color:#fff; transform:scale(1.08); }
.modal-icon-btn.liked { border-color:var(--green); background:rgba(70,211,105,0.15); }
.modal-body { padding:4px 32px 32px; }
.modal-two-col { display:grid; grid-template-columns:1.7fr 1fr; gap:24px; margin-bottom:20px; }
.modal-title { font-family:'Bebas Neue',sans-serif; font-size:2.4rem; color:var(--white); margin-bottom:8px; letter-spacing:0.5px; }
.modal-meta { display:flex; align-items:center; gap:12px; flex-wrap:wrap; font-size:0.85rem; color:var(--text); margin-bottom:14px; }
.modal-meta .match { color:var(--green); font-weight:700; }
.quality-badge { border:1px solid rgba(255,255,255,0.35); padding:2px 8px; border-radius:3px; font-size:0.72rem; font-weight:600; }
.modal-desc { font-size:0.9rem; line-height:1.7; color:#ccc; }
.modal-col-side { padding-top:48px; }
.modal-detail-row { display:flex; align-items:flex-start; gap:8px; font-size:0.84rem; margin-bottom:8px; }
.detail-label { color:var(--muted); white-space:nowrap; flex-shrink:0; }
.detail-val { color:var(--text); }
.modal-tags { display:flex; flex-wrap:wrap; gap:6px; }
.tag { background:rgba(255,255,255,0.07); border:1px solid var(--border); color:var(--text); font-size:0.75rem; padding:4px 12px; border-radius:20px; white-space:nowrap; }
.modal-cast { margin-top:16px; }
.cast-title { font-size:0.9rem; font-weight:700; color:var(--white); margin-bottom:12px; }
.cast-scroll { display:flex; gap:12px; overflow-x:auto; scrollbar-width:none; }
.cast-scroll::-webkit-scrollbar { display:none; }
.cast-card { flex-shrink:0; text-align:center; width:80px; }
.cast-img { width:70px; height:70px; border-radius:50%; object-fit:cover; margin:0 auto 6px; border:2px solid var(--border); }
.cast-name { font-size:0.7rem; color:var(--text); line-height:1.3; }

/* More like this */
.modal-more { border-top:1px solid var(--border); padding-top:20px; margin-top:20px; }
.more-title { font-size:1rem; font-weight:700; color:var(--white); margin-bottom:14px; }
.more-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:8px; }
.more-card { border-radius:var(--radius-sm); overflow:hidden; cursor:pointer; transition:transform 0.2s; }
.more-card:hover { transform:scale(1.04); }
.more-card img { width:100%; height:100px; object-fit:cover; }
.more-card-title { font-size:0.74rem; font-weight:600; color:var(--text); padding:6px; background:var(--dark-2); }

/* ══════════════════════════════════════════════
   KEYBOARD SHORTCUTS
══════════════════════════════════════════════ */
.shortcuts-panel {
  position:fixed; inset:0; background:rgba(0,0,0,0.75); z-index:2000;
  display:flex; align-items:center; justify-content:center;
  opacity:0; pointer-events:none; transition:opacity 0.25s; backdrop-filter:blur(4px);
}
.shortcuts-panel.open { opacity:1; pointer-events:all; }
.shortcuts-card { background:var(--dark-2); border:1px solid var(--border); border-radius:var(--radius-lg); padding:28px; width:min(500px,90vw); box-shadow:var(--shadow); }
.shortcuts-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:20px; }
.shortcuts-header h3 { font-size:1.1rem; font-weight:700; color:var(--white); }
.shortcuts-header button { background:none; border:none; color:var(--muted); font-size:1rem; transition:color 0.2s; }
.shortcuts-header button:hover { color:var(--white); }
.shortcuts-grid { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
.shortcut { display:flex; align-items:center; gap:10px; font-size:0.83rem; color:var(--text); }
kbd { background:var(--dark-3); border:1px solid var(--border); border-radius:4px; padding:3px 8px; font-size:0.75rem; color:var(--white); font-family:monospace; min-width:32px; text-align:center; }

/* ══════════════════════════════════════════════
   TOAST
══════════════════════════════════════════════ */
.toast {
  position:fixed; bottom:36px; left:50%;
  transform:translateX(-50%) translateY(60px);
  background:#242424; color:#fff; padding:12px 28px;
  border-radius:var(--radius-md); font-size:0.88rem; font-weight:500;
  z-index:3000; opacity:0; transition:transform 0.3s ease,opacity 0.3s ease;
  pointer-events:none; border-left:3px solid var(--red);
  box-shadow:var(--shadow); white-space:nowrap;
}
.toast.show { transform:translateX(-50%) translateY(0); opacity:1; }
.toast.success { border-left-color:var(--green); }
.toast.info { border-left-color:#4fc3f7; }

/* ══════════════════════════════════════════════
   BACK TO TOP
══════════════════════════════════════════════ */
.back-to-top {
  position:fixed; bottom:32px; right:32px;
  width:44px; height:44px; border-radius:50%;
  background:var(--red); color:#fff; border:none; font-size:1.2rem;
  display:flex; align-items:center; justify-content:center;
  opacity:0; pointer-events:none; z-index:800;
  transition:opacity 0.3s,transform 0.3s;
  box-shadow:0 4px 20px var(--red-glow);
}
.back-to-top.visible { opacity:1; pointer-events:all; }
.back-to-top:hover { transform:translateY(-3px); }

/* ══════════════════════════════════════════════
   FOOTER
══════════════════════════════════════════════ */
footer { padding:56px 4% 40px; border-top:1px solid var(--border); margin-top:40px; }
.footer-social { display:flex; gap:18px; margin-bottom:28px; }
.footer-social a { color:var(--text-dim); transition:color 0.2s,transform 0.2s; }
.footer-social a:hover { color:var(--white); transform:translateY(-2px); }
.footer-links { display:grid; grid-template-columns:repeat(auto-fill,minmax(175px,1fr)); gap:8px 16px; margin-bottom:28px; }
.footer-links a { color:var(--muted); font-size:0.78rem; transition:color 0.2s; padding:2px 0; }
.footer-links a:hover { color:var(--text); }
.footer-bottom { display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:8px; color:var(--muted); font-size:0.76rem; }
.footer-keys { opacity:0.6; }
.footer-keys kbd { background:rgba(255,255,255,0.08); border:1px solid var(--border); border-radius:3px; padding:1px 6px; font-family:monospace; font-size:0.72rem; }

/* ══════════════════════════════════════════════
   AUTH PAGE
══════════════════════════════════════════════ */
.auth-page { min-height:100vh; display:flex; flex-direction:column; }
.auth-bg { position:fixed; inset:0; z-index:0; }
.auth-bg img { width:100%; height:100%; object-fit:cover; }
.auth-bg-overlay { position:absolute; inset:0; background:rgba(0,0,0,0.6); }
.auth-nav {
  position:relative; z-index:10; display:flex; align-items:center; justify-content:space-between;
  padding:18px 4%; background:rgba(0,0,0,0.5);
}
.auth-nav-right { display:flex; align-items:center; gap:12px; }
.auth-main { flex:1; display:flex; align-items:center; justify-content:center; position:relative; z-index:10; padding:40px 20px; }
.auth-card {
  background:rgba(0,0,0,0.82); border-radius:var(--radius-lg);
  padding:48px 48px 60px; width:min(450px,100%);
  backdrop-filter:blur(10px); border:1px solid rgba(255,255,255,0.08);
  box-shadow:var(--shadow);
  animation:fadeIn 0.4s ease;
}
.auth-title { font-family:'Bebas Neue',sans-serif; font-size:2.2rem; color:#fff; margin-bottom:28px; letter-spacing:1px; }
.auth-form { display:flex; flex-direction:column; gap:16px; }

/* Form fields */
.form-group { position:relative; }
.form-input {
  width:100%; background:var(--dark-3); border:1.5px solid rgba(255,255,255,0.15);
  border-radius:var(--radius-sm); padding:22px 16px 8px;
  color:var(--white); font-size:0.95rem; font-family:inherit;
  outline:none; transition:border-color 0.2s,background 0.2s;
}
.form-input:focus { border-color:rgba(255,255,255,0.5); background:#2a2a2a; }
.form-input.error { border-color:var(--red) !important; }
.form-label {
  position:absolute; left:16px; top:50%; transform:translateY(-50%);
  color:var(--muted); font-size:0.9rem; pointer-events:none;
  transition:all 0.2s; transform-origin:left;
}
.form-input:focus + .form-label,
.form-input:not(:placeholder-shown) + .form-label {
  top:10px; transform:translateY(0) scale(0.78); color:var(--muted);
}
.form-error { display:block; color:#ff6b6b; font-size:0.75rem; margin-top:4px; min-height:16px; padding-left:2px; }
.show-pass-btn {
  position:absolute; right:12px; top:50%; transform:translateY(-50%);
  background:none; border:none; color:var(--muted); font-size:0.78rem; font-weight:600;
  transition:color 0.2s;
}
.show-pass-btn:hover { color:var(--white); }

/* Password strength */
.strength-wrap { display:flex; align-items:center; gap:10px; }
.strength-bar { flex:1; height:4px; background:rgba(255,255,255,0.1); border-radius:4px; overflow:hidden; }
.strength-fill { height:100%; width:0; border-radius:4px; transition:width 0.3s,background 0.3s; }
.strength-label { font-size:0.75rem; font-weight:600; white-space:nowrap; min-width:40px; }

/* Auth buttons */
.auth-btn {
  padding:14px; border-radius:var(--radius-sm); border:none;
  font-size:1rem; font-weight:700; font-family:inherit;
  background:var(--red); color:#fff; transition:background 0.2s,transform 0.15s;
}
.auth-btn:hover { background:var(--red-dark); transform:translateY(-1px); }
.auth-btn-secondary { background:rgba(255,255,255,0.12); }
.auth-btn-secondary:hover { background:rgba(255,255,255,0.18); }
.auth-meta { display:flex; align-items:center; justify-content:space-between; font-size:0.83rem; }
.remember-me { display:flex; align-items:center; gap:6px; color:var(--text-dim); cursor:pointer; }
.remember-me input { accent-color:var(--red); }
.auth-link { color:#b3b3b3; transition:color 0.2s; }
.auth-link:hover { color:#fff; text-decoration:underline; }
.auth-divider { display:flex; align-items:center; gap:12px; color:var(--muted); font-size:0.8rem; }
.auth-divider::before,.auth-divider::after { content:''; flex:1; height:1px; background:rgba(255,255,255,0.1); }
.auth-switch { text-align:center; font-size:0.88rem; color:var(--text-dim); }
.auth-fine-print { font-size:0.73rem; color:#555; line-height:1.5; }

/* ══════════════════════════════════════════════
   RESPONSIVE
══════════════════════════════════════════════ */
@media(max-width:900px){
  .nav-links{display:none;}
  .hamburger{display:flex;}
  .modal-two-col{grid-template-columns:1fr;}
  .modal-col-side{padding-top:0;}
  .more-grid{grid-template-columns:repeat(2,1fr);}
}
@media(max-width:640px){
  :root{--nav-h:60px;}
  .nav-search{display:none;}
  .hero{padding-bottom:14%;}
  .hero-desc{font-size:0.85rem;}
  .btn{padding:10px 22px;font-size:0.9rem;}
  .card{width:140px;height:210px;}
  .card.wide{width:200px;height:113px;}
  .card.top10{width:175px;}
  .featured-banner{height:190px;}
  .fb-title{font-size:2rem;}
  .fb-desc{display:none;}
  .featured-overlay{padding:0 24px;}
  .modal-hero{height:240px;}
  .modal-body{padding:4px 20px 24px;}
  .modal-title{font-size:1.8rem;}
  .modal-hero-actions{left:20px;}
  .auth-card{padding:32px 24px 40px;}
  .player-wrap{width:100%;}
  .shortcuts-grid{grid-template-columns:1fr;}
}